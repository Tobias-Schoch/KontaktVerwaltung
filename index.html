<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KontaktHub</title>
    <meta name="description" content="Moderne lokale Kontaktverwaltung mit WOW-UI/UX">
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <!-- App Shell -->
    <div id="app" class="app">
        <!-- Top Bar -->
        <header class="topbar">
            <div class="topbar__left">
                <div class="logo">
                    <svg class="logo__icon" width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="32" height="32" rx="8" fill="currentColor" opacity="0.1"/>
                        <path d="M16 8C12.686 8 10 10.686 10 14C10 17.314 12.686 20 16 20C19.314 20 22 17.314 22 14C22 10.686 19.314 8 16 8ZM16 18C13.791 18 12 16.209 12 14C12 11.791 13.791 10 16 10C18.209 10 20 11.791 20 14C20 16.209 18.209 18 16 18Z" fill="currentColor"/>
                        <path d="M24 24C24 20.686 20.418 18 16 18C11.582 18 8 20.686 8 24H10C10 21.791 12.686 20 16 20C19.314 20 22 21.791 22 24H24Z" fill="currentColor"/>
                    </svg>
                    <span class="logo__text">KontaktHub</span>
                </div>
            </div>

            <div class="topbar__center">
                <div class="search-bar">
                    <svg class="search-bar__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M9 17C13.4183 17 17 13.4183 17 9C17 4.58172 13.4183 1 9 1C4.58172 1 1 4.58172 1 9C1 13.4183 4.58172 17 9 17Z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        <path d="M19 19L14.65 14.65" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <input
                        type="search"
                        class="search-bar__input"
                        placeholder="Suche (âŒ˜K)"
                        id="searchInput"
                        autocomplete="off"
                    />
                </div>
            </div>

            <div class="topbar__right">
                <button class="icon-button" id="themeToggle" aria-label="Theme umschalten">
                    <svg class="icon icon--sun" width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <circle cx="10" cy="10" r="3" stroke="currentColor" stroke-width="2"/>
                        <path d="M10 1V3M10 17V19M19 10H17M3 10H1M16.071 16.071L14.657 14.657M5.343 5.343L3.929 3.929M16.071 3.929L14.657 5.343M5.343 14.657L3.929 16.071" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <svg class="icon icon--moon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M17 10.5C17 14.6421 13.6421 18 9.5 18C5.35786 18 2 14.6421 2 10.5C2 6.35786 5.35786 3 9.5 3C9.67311 3 9.84518 3.00646 10.016 3.01926C8.77697 4.20943 8 5.92286 8 7.8C8 11.2242 10.7758 14 14.2 14C15.3382 14 16.3982 13.6588 17.2742 13.071C17.426 12.2431 17.5 11.3822 17.5 10.5H17Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>

                <button class="icon-button" id="saveButton" aria-label="Speichern" title="Speichern">
                    <svg class="icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M15 19H5C3.89543 19 3 18.1046 3 17V3C3 1.89543 3.89543 1 5 1H12L17 6V17C17 18.1046 16.1046 19 15 19Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M13 1V6H17" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                        <path d="M7 11H13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        <path d="M7 14H13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>

                <div class="storage-indicator" id="storageIndicator" title="Storage-Status">
                    <span class="storage-indicator__dot"></span>
                    <span class="storage-indicator__text">Lokal</span>
                </div>
            </div>
        </header>

        <!-- Main Container -->
        <div class="main-container">
            <!-- Sidebar -->
            <aside class="sidebar" id="sidebar">
                <nav class="sidebar__nav">
                    <a href="#contacts" class="nav-item nav-item--active" data-view="contacts">
                        <svg class="nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M10 10C12.21 10 14 8.21 14 6C14 3.79 12.21 2 10 2C7.79 2 6 3.79 6 6C6 8.21 7.79 10 10 10ZM10 12C7.33 12 2 13.34 2 16V18H18V16C18 13.34 12.67 12 10 12Z" fill="currentColor"/>
                        </svg>
                        <span class="nav-item__text">Kontakte</span>
                        <span class="nav-item__badge" id="contactsCount">0</span>
                    </a>

                    <a href="#groups" class="nav-item" data-view="groups">
                        <svg class="nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M16 11C17.66 11 18.99 9.66 18.99 8C18.99 6.34 17.66 5 16 5C14.34 5 13 6.34 13 8C13 9.66 14.34 11 16 11ZM8 11C9.66 11 10.99 9.66 10.99 8C10.99 6.34 9.66 5 8 5C6.34 5 5 6.34 5 8C5 9.66 6.34 11 8 11ZM8 13C5.67 13 1 14.17 1 16.5V18H15V16.5C15 14.17 10.33 13 8 13ZM16 13C15.71 13 15.38 13.02 15.03 13.05C16.19 13.89 17 15.02 17 16.5V18H23V16.5C23 14.17 18.33 13 16 13Z" fill="currentColor"/>
                        </svg>
                        <span class="nav-item__text">Gruppen</span>
                        <span class="nav-item__badge" id="groupsCount">0</span>
                    </a>

                    <a href="#events" class="nav-item" data-view="events">
                        <svg class="nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M17 3H16V2C16 1.45 15.55 1 15 1C14.45 1 14 1.45 14 2V3H6V2C6 1.45 5.55 1 5 1C4.45 1 4 1.45 4 2V3H3C1.89 3 1.01 3.9 1.01 5L1 17C1 18.1 1.89 19 3 19H17C18.1 19 19 18.1 19 17V5C19 3.9 18.1 3 17 3ZM17 17H3V8H17V17ZM17 6H3V5H17V6Z" fill="currentColor"/>
                        </svg>
                        <span class="nav-item__text">Events</span>
                        <span class="nav-item__badge" id="eventsCount">0</span>
                    </a>

                    <div class="nav-divider"></div>

                    <a href="#settings" class="nav-item" data-view="settings">
                        <svg class="nav-item__icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M17.43 10.98C17.47 10.66 17.5 10.34 17.5 10C17.5 9.66 17.47 9.34 17.43 9.02L19.54 7.37C19.73 7.22 19.78 6.95 19.66 6.73L17.66 3.27C17.54 3.05 17.27 2.97 17.05 3.05L14.56 4.05C14.04 3.65 13.48 3.32 12.87 3.07L12.49 0.42C12.46 0.18 12.25 0 12 0H8C7.75 0 7.54 0.18 7.51 0.42L7.13 3.07C6.52 3.32 5.96 3.66 5.44 4.05L2.95 3.05C2.73 2.96 2.46 3.05 2.34 3.27L0.34 6.73C0.21 6.95 0.27 7.22 0.46 7.37L2.57 9.02C2.53 9.34 2.5 9.67 2.5 10C2.5 10.33 2.53 10.66 2.57 10.98L0.46 12.63C0.27 12.78 0.22 13.05 0.34 13.27L2.34 16.73C2.46 16.95 2.73 17.03 2.95 16.95L5.44 15.95C5.96 16.35 6.52 16.68 7.13 16.93L7.51 19.58C7.54 19.82 7.75 20 8 20H12C12.25 20 12.46 19.82 12.49 19.58L12.87 16.93C13.48 16.68 14.04 16.34 14.56 15.95L17.05 16.95C17.27 17.04 17.54 16.95 17.66 16.73L19.66 13.27C19.78 13.05 19.73 12.78 19.54 12.63L17.43 10.98ZM10 13.5C8.07 13.5 6.5 11.93 6.5 10C6.5 8.07 8.07 6.5 10 6.5C11.93 6.5 13.5 8.07 13.5 10C13.5 11.93 11.93 13.5 10 13.5Z" fill="currentColor"/>
                        </svg>
                        <span class="nav-item__text">Einstellungen</span>
                    </a>
                </nav>
            </aside>

            <!-- Main Content -->
            <main class="main-content" id="mainContent">
                <!-- Content wird dynamisch geladen -->
                <div class="loading-screen">
                    <div class="spinner"></div>
                    <p>Lade Daten...</p>
                </div>
            </main>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer" aria-live="polite"></div>

    <!-- Modal Container -->
    <div class="modal-overlay" id="modalOverlay"></div>

    <!-- Scripts -->
    <script type="module" src="js/main.js"></script>
</body>
</html>
